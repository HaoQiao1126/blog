### dog 表结构：

| id   | name | sex  | create_time         |
| ---- | ---- | ---- | ------------------- |
| 1    | 红红 | 20   | 2019-05-23 14:56:03 |
| 2    | 蓝蓝 | 6    | 2019-10-10 13:54:47 |
| 3    | 白白 | 16   | 2019-10-11 13:55:04 |
| 4    | 绿绿 | 16   | 2019-10-11 18:55:15 |

### 场景：

> 查询结果按时间倒序排序，要求：白白排在第一位，同时显示每一位的排名

### SQL 语句：

```sql
SELECT
	a.* ,
	(select count(*) + 1 from dog d where d.sex > a.sex or (d.sex = a.sex and d.create_time > a.create_time)) rank
FROM `dog` a
ORDER BY a.id <> 3
```

### 结果显示：

| id   | name | sex  | create_time         | rank |
| ---- | ---- | ---- | ------------------- | ---- |
| 3    | 白白 | 16   | 2019-10-11 13:55:04 | 3    |
| 1    | 红红 | 20   | 2019-05-23 14:56:03 | 1    |
| 2    | 蓝蓝 | 6    | 2019-10-10 13:54:47 | 4    |
| 4    | 绿绿 | 16   | 2019-10-11 18:55:15 | 2    |